{% extends 'base.html' %}
{% block title %}Detect â€” YOLOv8{% endblock %}

{% block content %}
<div class="header-box" style="width:100%;text-align:center;margin-bottom:18px;font-size:28px;color:white;">
  ðŸ§  Object Detection In Image
</div>

<div style="background-color: rgba(255,255,255,0.95); max-width:520px; margin:0 auto; padding:28px; border-radius:12px;">
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="imageUpload" style="display:block;margin-bottom:8px;font-weight:600;">Upload Your Image Here :</label>
    <input type="file" id="imageUpload" name="image" accept="image/*" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-bottom:14px;" />
    <div style="display:flex;gap:8px;">
      <button type="submit" class="detect-btn" style="flex:1;padding:10px;border-radius:8px;background:linear-gradient(to right,#f857a6,#ff5858);border:none;color:white;font-weight:700;">Detect</button>
    </div>
  </form>
</div>

{% if image_url %}
  <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
    <h2>Detection Result:</h2>
    <img src="{{ image_url }}" alt="Detected Image" style="max-width: 100%; height: auto;">
    {% if detections %}
      <h3>Detected Objects:</h3>
      <ul>
        {% for item in detections %}
          <li><strong>{{ item.label }}</strong> â€“ Confidence: {{ item.confidence }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>
{% endif %}



{% endblock %}
